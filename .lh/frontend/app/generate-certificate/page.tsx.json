{
    "sourceFile": "frontend/app/generate-certificate/page.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 2,
            "patches": [
                {
                    "date": 1741545411576,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1741545421404,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,7 @@\n \"use client\"\n \n-import {type ChangeEvent, useState } from \"react\"\n+import {, useState } from \"react\"\n import { useRouter } from \"next/navigation\"\n import { Button } from \"@/components/ui/button\"\n import { Input } from \"@/components/ui/input\"\n import { Card, CardContent, CardDescription, CardFooter, CardHeader, CardTitle } from \"@/components/ui/card\"\n"
                },
                {
                    "date": 1741546450036,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,8 +1,7 @@\n \"use client\"\n \n import { useState } from \"react\"\n-import { useRouter } from \"next/navigation\"\n import { Button } from \"@/components/ui/button\"\n import { Input } from \"@/components/ui/input\"\n import { Card, CardContent, CardDescription, CardFooter, CardHeader, CardTitle } from \"@/components/ui/card\"\n import { Label } from \"@/components/ui/label\"\n"
                }
            ],
            "date": 1741545411576,
            "name": "Commit-0",
            "content": "\"use client\"\n\nimport {type ChangeEvent, useState } from \"react\"\nimport { useRouter } from \"next/navigation\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Card, CardContent, CardDescription, CardFooter, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Label } from \"@/components/ui/label\"\nimport { CertificateTemplate } from \"@/components/certificate/certificate-template\"\nimport { generateCertificateId } from \"@/lib/certificate-service\"\n\nexport default function GenerateCertificatePage() {\n\n  const [formData, setFormData] = useState({\n    date: \"Enero 2025\",\n    title: \"DIPLOMA DE PARTICIPACIÓN\",\n    recipientName: \"\",\n    recipientRole: \"\",\n    course: \"\",\n    certifierName: \"Sandro Borga\",\n    certifierRole: \"Fundador experto\",\n    certifierImage: \"/placeholder.svg?height=80&width=80\",\n  })\n\n  const [certificateId, setCertificateId] = useState(\"\")\n  const [previewMode, setPreviewMode] = useState(false)\n\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const { name, value } = e.target\n    setFormData((prev) => ({ ...prev, [name]: value }))\n  }\n\n  const handleGeneratePreview = (e: React.FormEvent) => {\n    e.preventDefault()\n\n    // Generate a unique certificate ID\n    const newCertificateId = generateCertificateId(\n      formData.course.substring(0, 3).toUpperCase(),\n      formData.recipientName.replace(/\\s+/g, \"-\").substring(0, 8).toUpperCase(),\n    )\n\n    setCertificateId(newCertificateId)\n    setPreviewMode(true)\n  }\n\n  const handleReset = () => {\n    setPreviewMode(false)\n  }\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      {/* Main Content */}\n      <main className=\"container mx-auto px-4 pt-24 pb-16\">\n        {/* Add the CertificatesNav component */}\n        {/* Añadir un indicador de que esta es una herramienta administrativa */}\n        <div className=\"mb-8 text-center\">\n          <h1 className=\"text-3xl font-bold text-white mb-2\">Generador de Certificados</h1>\n          <p className=\"text-muted-foreground\">Crea certificados personalizados para tus estudiantes o participantes</p>\n          <div className=\"mt-2 inline-flex items-center justify-center px-3 py-1 rounded-full bg-primary/20 text-primary text-sm\">\n            Herramienta Administrativa\n          </div>\n        </div>\n        {previewMode ? (\n          <div className=\"space-y-8\">\n            <Card className=\"border-primary/20 bg-background/60 backdrop-blur-xl\">\n              <CardHeader>\n                <CardTitle>Vista Previa del Certificado</CardTitle>\n                <CardDescription>Así es como se verá tu certificado. ID: {certificateId}</CardDescription>\n              </CardHeader>\n              <CardContent>\n                <div className=\"certificate-template\">\n                  <CertificateTemplate\n                    date={formData.date}\n                    title={formData.title}\n                    recipientName={formData.recipientName}\n                    recipientRole={formData.recipientRole}\n                    course={formData.course}\n                    certifierName={formData.certifierName}\n                    certifierRole={formData.certifierRole}\n                    certifierImage={formData.certifierImage}\n                    certificateId={certificateId}\n                  />\n                </div>\n              </CardContent>\n              <CardFooter className=\"flex flex-col sm:flex-row gap-4\">\n                <Button variant=\"outline\" className=\"btn-gradient-border\" onClick={handleReset}>\n                  Editar\n                </Button>\n                <Button className=\"btn-magenta\">Guardar y Publicar</Button>\n              </CardFooter>\n            </Card>\n          </div>\n        ) : (\n          <Card className=\"border-primary/20 bg-background/60 backdrop-blur-xl\">\n            <form onSubmit={handleGeneratePreview}>\n              <CardHeader>\n                <CardTitle>Información del Certificado</CardTitle>\n                <CardDescription>Completa los datos para generar un certificado personalizado</CardDescription>\n              </CardHeader>\n              <CardContent className=\"space-y-4\">\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"date\">Fecha</Label>\n                    <Input\n                      id=\"date\"\n                      name=\"date\"\n                      value={formData.date}\n                      onChange={handleInputChange}\n                      className=\"border-primary/20 bg-primary/10\"\n                      required\n                    />\n                  </div>\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"title\">Título del Certificado</Label>\n                    <Input\n                      id=\"title\"\n                      name=\"title\"\n                      value={formData.title}\n                      onChange={handleInputChange}\n                      className=\"border-primary/20 bg-primary/10\"\n                      required\n                    />\n                  </div>\n                </div>\n\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"recipientName\">Nombre del Recipiente</Label>\n                  <Input\n                    id=\"recipientName\"\n                    name=\"recipientName\"\n                    value={formData.recipientName}\n                    onChange={handleInputChange}\n                    className=\"border-primary/20 bg-primary/10\"\n                    required\n                  />\n                </div>\n\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"recipientRole\">Rol del Recipiente</Label>\n                  <Input\n                    id=\"recipientRole\"\n                    name=\"recipientRole\"\n                    value={formData.recipientRole}\n                    onChange={handleInputChange}\n                    className=\"border-primary/20 bg-primary/10\"\n                    required\n                  />\n                </div>\n\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"course\">Curso Completado</Label>\n                  <Input\n                    id=\"course\"\n                    name=\"course\"\n                    value={formData.course}\n                    onChange={handleInputChange}\n                    className=\"border-primary/20 bg-primary/10\"\n                    required\n                  />\n                </div>\n\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"certifierName\">Nombre del Certificador</Label>\n                    <Input\n                      id=\"certifierName\"\n                      name=\"certifierName\"\n                      value={formData.certifierName}\n                      onChange={handleInputChange}\n                      className=\"border-primary/20 bg-primary/10\"\n                      required\n                    />\n                  </div>\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"certifierRole\">Rol del Certificador</Label>\n                    <Input\n                      id=\"certifierRole\"\n                      name=\"certifierRole\"\n                      value={formData.certifierRole}\n                      onChange={handleInputChange}\n                      className=\"border-primary/20 bg-primary/10\"\n                      required\n                    />\n                  </div>\n                </div>\n              </CardContent>\n              <CardFooter>\n                <Button type=\"submit\" className=\"btn-magenta\">\n                  Generar Vista Previa\n                </Button>\n              </CardFooter>\n            </form>\n          </Card>\n        )}\n      </main>\n    </div>\n  )\n}\n"
        }
    ]
}